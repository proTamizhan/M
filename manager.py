import base64
exec(base64.b64decode(b'JycnCj09PT09PT09PT09PT1TT04gT0YgR0VOSVNZUz09PT09PT09PT09PT09PT09PT09PQpaaWxsYSBtZW1iZXJzIGFkZGluZyBzY3JpcHQKQ29kZWQgYnkgYSBkdW1iYXNzIGtpZC0gRmFjZWJvb2suY29tL2FoYWQzNjAKQXBvbG9naWVzIGlmIGFueXRoaW5nIGluIHRoZSBjb2RlIGlzIGR1bWIgOikKQ29weSB3aXRoIGNyZWRpdHMKKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCicnJwoKIyBpbXBvcnQgbGlicmFyaWVzCmZyb20gdGVsZXRob24uc3luYyBpbXBvcnQgVGVsZWdyYW1DbGllbnQKZnJvbSB0ZWxldGhvbi50bC50eXBlcyBpbXBvcnQgSW5wdXRQZWVyQ2hhbm5lbApmcm9tIHRlbGV0aG9uLmVycm9ycy5ycGNlcnJvcmxpc3QgaW1wb3J0IFBlZXJGbG9vZEVycm9yLCBVc2VyUHJpdmFjeVJlc3RyaWN0ZWRFcnJvciwgUGhvbmVOdW1iZXJCYW5uZWRFcnJvciwgQ2hhdEFkbWluUmVxdWlyZWRFcnJvcgpmcm9tIHRlbGV0aG9uLmVycm9ycy5ycGNlcnJvcmxpc3QgaW1wb3J0IENoYXRXcml0ZUZvcmJpZGRlbkVycm9yLCBVc2VyQmFubmVkSW5DaGFubmVsRXJyb3IsIFVzZXJBbHJlYWR5UGFydGljaXBhbnRFcnJvciwgRmxvb2RXYWl0RXJyb3IKZnJvbSB0ZWxldGhvbi50bC5mdW5jdGlvbnMuY2hhbm5lbHMgaW1wb3J0IEludml0ZVRvQ2hhbm5lbFJlcXVlc3QKaW1wb3J0IHN5cwpmcm9tIHRlbGV0aG9uLnRsLmZ1bmN0aW9ucy5tZXNzYWdlcyBpbXBvcnQgSW1wb3J0Q2hhdEludml0ZVJlcXVlc3QsIEFkZENoYXRVc2VyUmVxdWVzdApmcm9tIHRlbGV0aG9uLnRsLmZ1bmN0aW9ucy5jaGFubmVscyBpbXBvcnQgSm9pbkNoYW5uZWxSZXF1ZXN0CmZyb20gdGVsZXRob24udGwudHlwZXMgaW1wb3J0IFVzZXJTdGF0dXNSZWNlbnRseQppbXBvcnQgdGltZQppbXBvcnQgcmFuZG9tCmZyb20gY29sb3JhbWEgaW1wb3J0IGluaXQsIEZvcmUKaW1wb3J0IG9zCmltcG9ydCBwaWNrbGUKCgppbml0KCkKCgpyID0gRm9yZS5SRUQKbGcgPSBGb3JlLkdSRUVOCnJzID0gRm9yZS5SRVNFVAp3ID0gRm9yZS5XSElURQpncmV5ID0gJ1wwMzNbOTdtJwpjeSA9IEZvcmUuQ1lBTgp5ZSA9IEZvcmUuWUVMTE9XCmNvbG9ycyA9IFtyLCBsZywgdywgeWUsIGN5XQppbmZvID0gbGcgKyAnWycgKyB3ICsgJ2knICsgbGcgKyAnXScgKyBycwplcnJvciA9IGxnICsgJ1snICsgciArICchJyArIGxnICsgJ10nICsgcnMKc3VjY2VzcyA9IHcgKyAnWycgKyBsZyArICcqJyArIHcgKyAnXScgKyBycwpJTlBVVCA9IGxnICsgJ1snICsgY3kgKyAnficgKyBsZyArICddJyArIHJzCnBsdXMgPSB3ICsgJ1snICsgbGcgKyAnKycgKyB3ICsgJ10nICsgcnMKbWludXMgPSB3ICsgJ1snICsgbGcgKyAnLScgKyB3ICsgJ10nICsgcnMKCmRlZiBiYW5uZXIoKToKICAgICMgZmFuY3kgbG9nbwogICAgYiA9IFsgICAgICAgICAgCiAgICAnICAgIF9fX18gICAgICAgICAgICAgX18gICAgICAgICAgICBfXyAgICAnLCAgICAgICAgCiAgICcgICAvIF9fIFxfX19fX19fX18gIC8gL19fX19fX19fX19fLyAvX19fX18gIF9fX19fJywKICAnICAvIC9fLyAvIF9fXy8gX18gXC8gX18vIF9fXy8gX19fLyBfXy8gX18gXC8gX19fLycsCiAnIC8gX19fXy8gLyAgLyAvXy8gLyAvXy8gLyAgLyAvX18vIC9fLyAvXy8gLyAvICAgJywKJy9fLyAgIC9fLyAgIFxfX19fL1xfXy9fLyAgIFxfX18vXF9fL1xfX19fL18vICAgJyAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgIF0KICAgIGZvciBjaGFyIGluIGI6CiAgICAgICAgcHJpbnQoZid7cmFuZG9tLmNob2ljZShjb2xvcnMpfXtjaGFyfXtyc30nKQogICAgI3ByaW50KCc9PT09PT09PT09PT09U09OIE9GIEdFTklTWVM9PT09PT09PT09PT09PScpCiAgICBwcmludChmJ3tsZ30gIFZlcnNpb246IHt3fTMuMntsZ30gfCBBdXRob3I6IHt3fXppbGxhIHxGYi5jb20vYWhhZDM2MHtyc31cbicpCgoKIyBmdW5jdGlvbiB0byBjbGVhciBzY3JlZW4KZGVmIGNscigpOgogICAgaWYgb3MubmFtZSA9PSAnbnQnOgogICAgICAgIG9zLnN5c3RlbSgnY2xzJykKICAgIGVsc2U6CiAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpCgphY2NvdW50cyA9IFtdCmYgPSBvcGVuKCd2YXJzLnR4dCcsICdyYicpCndoaWxlIFRydWU6CiAgICB0cnk6CiAgICAgICAgYWNjb3VudHMuYXBwZW5kKHBpY2tsZS5sb2FkKGYpKQogICAgZXhjZXB0IEVPRkVycm9yOgogICAgICAgIGJyZWFrCgojIGNyZWF0ZSBzZXNzaW9ucyhpZiBhbnkpIGFuZCBjaGVjayBmb3IgYW55IGJhbm5lZCBhY2NvdW50cwojIFRPRE86IFJlbW92ZSBjb2RlIGlucHV0KGp1c3QgdG8gY2hlY2sgaWYgYW4gYWNjb3VudCBpcyBiYW5uZWQpCnByaW50KCdcbicgKyBpbmZvICsgbGcgKyAnIENoZWNraW5nIGZvciBiYW5uZWQgYWNjb3VudHMuLi4nICsgcnMpCmZvciBhIGluIGFjY291bnRzOgogICAgcGhuID0gYVswXQogICAgcHJpbnQoZid7cGx1c317Z3JleX0gQ2hlY2tpbmcge2xnfXtwaG59JykKICAgIGNsbnQgPSBUZWxlZ3JhbUNsaWVudChmJ3Nlc3Npb25zL3twaG59JywgMzkxMDM4OSwgJzg2Zjg2MTM1MmYwYWI3NmEyNTE4NjYwNTlhNmFkYmQ2JykKICAgIGNsbnQuY29ubmVjdCgpCiAgICBiYW5uZWQgPSBbXQogICAgaWYgbm90IGNsbnQuaXNfdXNlcl9hdXRob3JpemVkKCk6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBjbG50LnNlbmRfY29kZV9yZXF1ZXN0KHBobikKICAgICAgICAgICAgcHJpbnQoJ09LJykKICAgICAgICBleGNlcHQgUGhvbmVOdW1iZXJCYW5uZWRFcnJvcjoKICAgICAgICAgICAgcHJpbnQoZid7ZXJyb3J9IHt3fXtwaG59IHtyfWlzIGJhbm5lZCF7cnN9JykKICAgICAgICAgICAgYmFubmVkLmFwcGVuZChhKQogICAgZm9yIHogaW4gYmFubmVkOgogICAgICAgIGFjY291bnRzLnJlbW92ZSh6KQogICAgICAgIHByaW50KGluZm8rbGcrJyBCYW5uZWQgYWNjb3VudCByZW1vdmVkW1JlbW92ZSBwZXJtYW5lbnRseSB1c2luZyBtYW5hZ2VyLnB5XScrcnMpCiAgICB0aW1lLnNsZWVwKDAuNSkKICAgIGNsbnQuZGlzY29ubmVjdCgpCgoKcHJpbnQoaW5mbysnIFNlc3Npb25zIGNyZWF0ZWQhJykKY2xyKCkKYmFubmVyKCkKIyBmdW5jIHRvIGxvZyBzY3JhcGluZyBkZXRhaWxzKGxpbmsgb2YgdGhlIGdycCB0byBzY3JhcGUKIyBhbmQgY3VycmVudCBpbmRleCkgaW4gb3JkZXIgdG8gcmVzdW1lIGxhdGVyCmRlZiBsb2dfc3RhdHVzKHNjcmFwZWQsIGluZGV4KToKICAgIHdpdGggb3Blbignc3RhdHVzLmRhdCcsICd3YicpIGFzIGY6CiAgICAgICAgcGlja2xlLmR1bXAoW3NjcmFwZWQsIGludChpbmRleCldLCBmKQogICAgICAgIGYuY2xvc2UoKQogICAgcHJpbnQoZid7aW5mb317bGd9IFNlc3Npb24gc3RvcmVkIGluIHt3fXN0YXR1cy5kYXR7bGd9JykKICAgIAoKZGVmIGV4aXRfd2luZG93KCk6CiAgICBpbnB1dChmJ1xue2N5fSBQcmVzcyBlbnRlciB0byBleGl0Li4uJykKICAgIGNscigpCiAgICBiYW5uZXIoKQogICAgc3lzLmV4aXQoKQoKIyByZWFkIHVzZXIgZGV0YWlscwp0cnk6CiAgICAjIHJxdWVzdCB0byByZXN1bWUgYWRkaW5nCiAgICB3aXRoIG9wZW4oJ3N0YXR1cy5kYXQnLCAncmInKSBhcyBmOgogICAgICAgIHN0YXR1cyA9IHBpY2tsZS5sb2FkKGYpCiAgICAgICAgZi5jbG9zZSgpCiAgICAgICAgbG9sID0gaW5wdXQoZid7SU5QVVR9e2N5fSBSZXN1bWUgc2NyYXBpbmcgbWVtYmVycyBmcm9tIHt3fXtzdGF0dXNbMF19e2xnfT8gW3kvbl06IHtyfScpCiAgICAgICAgaWYgJ3knIGluIGxvbDoKICAgICAgICAgICAgc2NyYXBlZF9ncnAgPSBzdGF0dXNbMF0gOyBpbmRleCA9IGludChzdGF0dXNbMV0pCiAgICAgICAgZWxzZToKICAgICAgICAgICAgaWYgb3MubmFtZSA9PSAnbnQnOiAKICAgICAgICAgICAgICAgIG9zLnN5c3RlbSgnZGVsIHN0YXR1cy5kYXQnKQogICAgICAgICAgICBlbHNlOiAKICAgICAgICAgICAgICAgIG9zLnN5c3RlbSgncm0gc3RhdHVzLmRhdCcpCiAgICAgICAgICAgIHNjcmFwZWRfZ3JwID0gaW5wdXQoZid7SU5QVVR9e2N5fSBQdWJsaWMvUHJpdmF0ZSBncm91cCBsaW5rIHRvIHNjcmFwZSBtZW1iZXJzOiB7cn0nKQogICAgICAgICAgICBpbmRleCA9IDAKZXhjZXB0OgogICAgc2NyYXBlZF9ncnAgPSBpbnB1dChmJ3tJTlBVVH17Y3l9IFB1YmxpYy9Qcml2YXRlIGdyb3VwIGxpbmsgdG8gc2NyYXBlIG1lbWJlcnM6IHtyfScpCiAgICBpbmRleCA9IDAKIyBsb2FkIGFsbCB0aGUgYWNjb3VudHMocGhvbmVudW1iZXJzKQphY2NvdW50cyA9IFtdCmYgPSBvcGVuKCd2YXJzLnR4dCcsICdyYicpCndoaWxlIFRydWU6CiAgICB0cnk6CiAgICAgICAgYWNjb3VudHMuYXBwZW5kKHBpY2tsZS5sb2FkKGYpKQogICAgZXhjZXB0IEVPRkVycm9yOgogICAgICAgIGJyZWFrCgpwcmludChmJ3tpbmZvfXtsZ30gVG90YWwgYWNjb3VudHM6IHt3fXtsZW4oYWNjb3VudHMpfScpCm51bWJlcl9vZl9hY2NzID0gaW50KGlucHV0KGYne0lOUFVUfXtjeX0gRW50ZXIgbnVtYmVyIG9mIGFjY291bnRzIHRvIHVzZToge3J9JykpCnByaW50KGYne2luZm99e2N5fSBDaG9vc2UgYW4gb3B0aW9ue2xnfScpCnByaW50KGYne2N5fVswXXtsZ30gQWRkIHRvIHB1YmxpYyBncm91cCcpCnByaW50KGYne2N5fVsxXXtsZ30gQWRkIHRvIHByaXZhdGUgZ3JvdXAnKQpjaG9pY2UgPSBpbnQoaW5wdXQoZid7SU5QVVR9e2N5fSBFbnRlciBjaG9pY2U6IHtyfScpKQppZiBjaG9pY2UgPT0gMDoKICAgIHRhcmdldCA9IHN0cihpbnB1dChmJ3tJTlBVVH17Y3l9IEVudGVyIHB1YmxpYyBncm91cCBsaW5rOiB7cn0nKSkKZWxzZToKICAgIHRhcmdldCA9IHN0cihpbnB1dChmJ3tJTlBVVH17Y3l9IEVudGVyIHByaXZhdGUgZ3JvdXAgbGluazoge3J9JykpCnByaW50KGYne2dyZXl9XycqNTApCiNzdGF0dXNfY2hvaWNlID0gc3RyKGlucHV0KGYne0lOUFVUfXtjeX0gRG8geW91IHdhbm5hIGFkZCBhY3RpdmUgbWVtYmVycz9beS9uXToge3J9JykpCnRvX3VzZSA9IFt4IGZvciB4IGluIGFjY291bnRzWzpudW1iZXJfb2ZfYWNjc11dCmZvciBsIGluIHRvX3VzZTogYWNjb3VudHMucmVtb3ZlKGwpCndpdGggb3BlbigndmFycy50eHQnLCAnd2InKSBhcyBmOgogICAgZm9yIGEgaW4gYWNjb3VudHM6CiAgICAgICAgcGlja2xlLmR1bXAoYSwgZikKICAgIGZvciBhYiBpbiB0b191c2U6CiAgICAgICAgcGlja2xlLmR1bXAoYWIsIGYpCiAgICBmLmNsb3NlKCkKc2xlZXBfdGltZSA9IGludChpbnB1dChmJ3tJTlBVVH17Y3l9IEVudGVyIGRlbGF5IHRpbWUgcGVyIHJlcXVlc3R7d31be2xnfTAgZm9yIE5vbmV7d31dOiB7cn0nKSkKI3ByaW50KGYne2luZm99e2xnfSBKb2luaW5nIGdyb3VwIGZyb20ge3d9e251bWJlcl9vZl9hY2NzfSBhY2NvdW50cy4uLicpCiNwcmludChmJ3tncmV5fS0nKjUwKQpwcmludChmJ3tzdWNjZXNzfXtsZ30gLS0gQWRkaW5nIG1lbWJlcnMgZnJvbSB7d317bGVuKHRvX3VzZSl9e2xnfSBhY2NvdW50KHMpIC0tJykKYWRkaW5nX3N0YXR1cyA9IDAKYXBwcm94X21lbWJlcnNfY291bnQgPSAwCmZvciBhY2MgaW4gdG9fdXNlOgogICAgc3RvcCA9IGluZGV4ICsgNjAKICAgIGMgPSBUZWxlZ3JhbUNsaWVudChmJ3Nlc3Npb25zL3thY2NbMF19JywgMzkxMDM4OSAsICc4NmY4NjEzNTJmMGFiNzZhMjUxODY2MDU5YTZhZGJkNicpCiAgICBwcmludChmJ3twbHVzfXtncmV5fSBVc2VyOiB7Y3l9e2FjY1swXX17bGd9IC0tIHtjeX1TdGFydGluZyBzZXNzaW9uLi4uICcpCiAgICBjLnN0YXJ0KGFjY1swXSkKICAgIGFjY19uYW1lID0gYy5nZXRfbWUoKS5maXJzdF9uYW1lCiAgICB0cnk6CiAgICAgICAgaWYgJy9qb2luY2hhdC8nIGluIHNjcmFwZWRfZ3JwOgogICAgICAgICAgICBnX2hhc2ggPSBzY3JhcGVkX2dycC5zcGxpdCgnL2pvaW5jaGF0LycpWzFdCiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIGMoSW1wb3J0Q2hhdEludml0ZVJlcXVlc3QoZ19oYXNoKSkKICAgICAgICAgICAgICAgIHByaW50KGYne3BsdXN9e2dyZXl9IFVzZXI6IHtjeX17YWNjX25hbWV9e2xnfSAtLSBKb2luZWQgZ3JvdXAgdG8gc2NyYXBlJykKICAgICAgICAgICAgZXhjZXB0IFVzZXJBbHJlYWR5UGFydGljaXBhbnRFcnJvcjoKICAgICAgICAgICAgICAgIHBhc3MgCiAgICAgICAgZWxzZToKICAgICAgICAgICAgYyhKb2luQ2hhbm5lbFJlcXVlc3Qoc2NyYXBlZF9ncnApKQogICAgICAgICAgICBwcmludChmJ3twbHVzfXtncmV5fSBVc2VyOiB7Y3l9e2FjY19uYW1lfXtsZ30gLS0gSm9pbmVkIGdyb3VwIHRvIHNjcmFwZScpCiAgICAgICAgc2NyYXBlZF9ncnBfZW50aXR5ID0gYy5nZXRfZW50aXR5KHNjcmFwZWRfZ3JwKQogICAgICAgIGlmIGNob2ljZSA9PSAwOgogICAgICAgICAgICBjKEpvaW5DaGFubmVsUmVxdWVzdCh0YXJnZXQpKQogICAgICAgICAgICBwcmludChmJ3twbHVzfXtncmV5fSBVc2VyOiB7Y3l9e2FjY19uYW1lfXtsZ30gLS0gSm9pbmVkIGdyb3VwIHRvIGFkZCcpCiAgICAgICAgICAgIHRhcmdldF9lbnRpdHkgPSBjLmdldF9lbnRpdHkodGFyZ2V0KQogICAgICAgICAgICB0YXJnZXRfZGV0YWlscyA9IElucHV0UGVlckNoYW5uZWwodGFyZ2V0X2VudGl0eS5pZCwgdGFyZ2V0X2VudGl0eS5hY2Nlc3NfaGFzaCkKICAgICAgICBlbHNlOgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBncnBfaGFzaCA9IHRhcmdldC5zcGxpdCgnL2pvaW5jaGF0LycpWzFdCiAgICAgICAgICAgICAgICBjKEltcG9ydENoYXRJbnZpdGVSZXF1ZXN0KGdycF9oYXNoKSkKICAgICAgICAgICAgICAgIHByaW50KGYne3BsdXN9e2dyZXl9IFVzZXI6IHtjeX17YWNjX25hbWV9e2xnfSAtLSBKb2luZWQgZ3JvdXAgdG8gYWRkJykKICAgICAgICAgICAgZXhjZXB0IFVzZXJBbHJlYWR5UGFydGljaXBhbnRFcnJvcjoKICAgICAgICAgICAgICAgIHBhc3MKICAgICAgICAgICAgdGFyZ2V0X2VudGl0eSA9IGMuZ2V0X2VudGl0eSh0YXJnZXQpCiAgICAgICAgICAgIHRhcmdldF9kZXRhaWxzID0gdGFyZ2V0X2VudGl0eQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIHByaW50KGYne2Vycm9yfXtyfSBVc2VyOiB7Y3l9e2FjY19uYW1lfXtsZ30gLS0gRmFpbGVkIHRvIGpvaW4gZ3JvdXAnKQogICAgICAgIHByaW50KGYne2Vycm9yfSB7cn17ZX0nKQogICAgICAgIGNvbnRpbnVlCiAgICBwcmludChmJ3twbHVzfXtncmV5fSBVc2VyOiB7Y3l9e2FjY19uYW1lfXtsZ30gLS0ge2N5fVJldHJpZXZpbmcgZW50aXRpZXMuLi4nKQogICAgI2MuZ2V0X2RpYWxvZ3MoKQogICAgdHJ5OgogICAgICAgIG1lbWJlcnMgPSBbXQogICAgICAgIG1lbWJlcnMgPSBjLmdldF9wYXJ0aWNpcGFudHMoc2NyYXBlZF9ncnBfZW50aXR5LCBhZ2dyZXNzaXZlPVRydWUpCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgcHJpbnQoZid7ZXJyb3J9e3J9IENvdWxkblwndCBzY3JhcGUgbWVtYmVycycpCiAgICAgICAgcHJpbnQoZid7ZXJyb3J9e3J9IHtlfScpCiAgICAgICAgY29udGludWUKICAgIGFwcHJveF9tZW1iZXJzX2NvdW50ID0gbGVuKG1lbWJlcnMpCiAgICBhc3NlcnQgYXBwcm94X21lbWJlcnNfY291bnQgIT0gMAogICAgaWYgaW5kZXggPj0gYXBwcm94X21lbWJlcnNfY291bnQ6CiAgICAgICAgcHJpbnQoZid7ZXJyb3J9e2xnfSBObyBtZW1iZXJzIHRvIGFkZCEnKQogICAgICAgIGNvbnRpbnVlCiAgICBwcmludChmJ3tpbmZvfXtsZ30gU3RhcnQ6IHt3fXtpbmRleH0nKQogICAgI2FkZGluZ19zdGF0dXMgPSAwCiAgICBwZWVyX2Zsb29kX3N0YXR1cyA9IDAKICAgIGZvciB1c2VyIGluIG1lbWJlcnNbaW5kZXg6c3RvcF06CiAgICAgICAgaW5kZXggKz0gMQogICAgICAgIGlmIHBlZXJfZmxvb2Rfc3RhdHVzID09IDEwOgogICAgICAgICAgICBwcmludChmJ3tlcnJvcn17cn0gVG9vIG1hbnkgUGVlciBGbG9vZCBFcnJvcnMhIENsb3Npbmcgc2Vzc2lvbi4uLicpCiAgICAgICAgICAgIGJyZWFrCiAgICAgICAgdHJ5OgogICAgICAgICAgICBpZiBjaG9pY2UgPT0gMDoKICAgICAgICAgICAgICAgIGMoSW52aXRlVG9DaGFubmVsUmVxdWVzdCh0YXJnZXRfZGV0YWlscywgW3VzZXJdKSkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGMoQWRkQ2hhdFVzZXJSZXF1ZXN0KHRhcmdldF9kZXRhaWxzLmlkLCB1c2VyLCA0MikpCiAgICAgICAgICAgIHVzZXJfaWQgPSB1c2VyLmZpcnN0X25hbWUKICAgICAgICAgICAgdGFyZ2V0X3RpdGxlID0gdGFyZ2V0X2VudGl0eS50aXRsZQogICAgICAgICAgICBwcmludChmJ3twbHVzfXtncmV5fSBVc2VyOiB7Y3l9e2FjY19uYW1lfXtsZ30gLS0ge2N5fXt1c2VyX2lkfSB7bGd9LS0+IHtjeX17dGFyZ2V0X3RpdGxlfScpCiAgICAgICAgICAgICNwcmludChmJ3tpbmZvfXtncmV5fSBVc2VyOiB7Y3l9e2FjY19uYW1lfXtsZ30gLS0gU2xlZXAgMSBzZWNvbmQnKQogICAgICAgICAgICBhZGRpbmdfc3RhdHVzICs9IDEKICAgICAgICAgICAgcHJpbnQoZid7aW5mb317Z3JleX0gVXNlcjoge2N5fXthY2NfbmFtZX17bGd9IC0tIFNsZWVwIHt3fXtzbGVlcF90aW1lfSB7bGd9c2Vjb25kKHMpJykKICAgICAgICAgICAgdGltZS5zbGVlcChzbGVlcF90aW1lKQogICAgICAgIGV4Y2VwdCBVc2VyUHJpdmFjeVJlc3RyaWN0ZWRFcnJvcjoKICAgICAgICAgICAgcHJpbnQoZid7bWludXN9e2dyZXl9IFVzZXI6IHtjeX17YWNjX25hbWV9e2xnfSAtLSB7cn1Vc2VyIFByaXZhY3kgUmVzdHJpY3RlZCBFcnJvcicpCiAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgZXhjZXB0IFBlZXJGbG9vZEVycm9yOgogICAgICAgICAgICBwcmludChmJ3tlcnJvcn17Z3JleX0gVXNlcjoge2N5fXthY2NfbmFtZX17bGd9IC0tIHtyfVBlZXIgRmxvb2QgRXJyb3IuJykKICAgICAgICAgICAgcGVlcl9mbG9vZF9zdGF0dXMgKz0gMQogICAgICAgICAgICBjb250aW51ZQogICAgICAgIGV4Y2VwdCBDaGF0V3JpdGVGb3JiaWRkZW5FcnJvcjoKICAgICAgICAgICAgcHJpbnQoZid7ZXJyb3J9e3J9IENhblwndCBhZGQgdG8gZ3JvdXAuIENvbnRhY3QgZ3JvdXAgYWRtaW4gdG8gZW5hYmxlIG1lbWJlcnMgYWRkaW5nJykKICAgICAgICAgICAgaWYgaW5kZXggPCBhcHByb3hfbWVtYmVyc19jb3VudDoKICAgICAgICAgICAgICAgIGxvZ19zdGF0dXMoc2NyYXBlZF9ncnAsIGluZGV4KQogICAgICAgICAgICBleGl0X3dpbmRvdygpCiAgICAgICAgZXhjZXB0IFVzZXJCYW5uZWRJbkNoYW5uZWxFcnJvcjoKICAgICAgICAgICAgcHJpbnQoZid7ZXJyb3J9e2dyZXl9IFVzZXI6IHtjeX17YWNjX25hbWV9e2xnfSAtLSB7cn1CYW5uZWQgZnJvbSB3cml0aW5nIGluIGdyb3VwcycpCiAgICAgICAgICAgIGJyZWFrCiAgICAgICAgZXhjZXB0IENoYXRBZG1pblJlcXVpcmVkRXJyb3I6CiAgICAgICAgICAgIHByaW50KGYne2Vycm9yfXtncmV5fSBVc2VyOiB7Y3l9e2FjY19uYW1lfXtsZ30gLS0ge3J9Q2hhdCBBZG1pbiByaWdodHMgbmVlZGVkIHRvIGFkZCcpCiAgICAgICAgICAgIGJyZWFrCiAgICAgICAgZXhjZXB0IFVzZXJBbHJlYWR5UGFydGljaXBhbnRFcnJvcjoKICAgICAgICAgICAgcHJpbnQoZid7bWludXN9e2dyZXl9IFVzZXI6IHtjeX17YWNjX25hbWV9e2xnfSAtLSB7cn1Vc2VyIGlzIGFscmVhZHkgYSBwYXJ0aWNpcGFudCcpCiAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgZXhjZXB0IEZsb29kV2FpdEVycm9yIGFzIGU6CiAgICAgICAgICAgIHByaW50KGYne2Vycm9yfXtyfSB7ZX0nKQogICAgICAgICAgICBicmVhawogICAgICAgIGV4Y2VwdCBWYWx1ZUVycm9yOgogICAgICAgICAgICBwcmludChmJ3tlcnJvcn17cn0gRXJyb3IgaW4gRW50aXR5JykKICAgICAgICAgICAgY29udGludWUKICAgICAgICBleGNlcHQgS2V5Ym9hcmRJbnRlcnJ1cHQ6CiAgICAgICAgICAgIHByaW50KGYne2Vycm9yfXtyfSAtLS0tIEFkZGluZyBUZXJtaW5hdGVkIC0tLS0nKQogICAgICAgICAgICBpZiBpbmRleCA8IGxlbihtZW1iZXJzKToKICAgICAgICAgICAgICAgIGxvZ19zdGF0dXMoc2NyYXBlZF9ncnAsIGluZGV4KQogICAgICAgICAgICBleGl0X3dpbmRvdygpCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBwcmludChmJ3tlcnJvcn0ge2V9JykKICAgICAgICAgICAgY29udGludWUKI2dsb2JhbCBhZGRpbmdfc3RhdHVzLCBhcHByb3hfbWVtYmVyc19jb3VudAppZiBhZGRpbmdfc3RhdHVzICE9IDA6CiAgICBwcmludChmIlxue2luZm99e2xnfSBBZGRpbmcgc2Vzc2lvbiBlbmRlZCIpCnRyeToKICAgIGlmIGluZGV4IDwgYXBwcm94X21lbWJlcnNfY291bnQ6CiAgICAgICAgbG9nX3N0YXR1cyhzY3JhcGVkX2dycCwgaW5kZXgpCiAgICAgICAgZXhpdF93aW5kb3coKQpleGNlcHQ6CiAgICBleGl0X3dpbmRvdygpCg=='))